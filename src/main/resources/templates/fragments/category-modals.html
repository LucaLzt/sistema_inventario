<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8"/>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
	<!-- Modal Add Category -->
	<div th:fragment="modal-add-category">รง
		<div class="modal fade" id="modalAddCategory" tabindex="-1">
			<div class="modal-dialog modal-lg">
				<div class="modal-content">
					<div class="modal-header border-secondary">
						<h5 class="modal-tittle">Add New Category</h5>
						<button type="button" class="btn-close btn-close-dark" data-bs-dismiss="modal"></button>
					</div>
					<form th:action="@{/categories/add}"
						  method="post"
						  th:object="${category}">
						
						<div class="modal-body">
							
							<!-- General Alert for Errors -->
							<div th:if="${#fields?.hasErrors('*')}" class="alert alert-danger alert-dismissible fade show" role="alert">
                                <strong>Please correct the following errors:</strong>
                                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
							</div>
							
							<!-- Name Field -->
							<div class="mb-3">
								<label class="form-label">Name</label>
								<input type="text"
									   th:field="*{name}"
									   class="form-control"
									   th:classappend="${#fields?.hasErrors('name')} ? 'is-invalid' : ''"
									   autocomplete="off"/>
							    <!-- Specific Error for Name -->
							    <div th:if="${#fields?.hasErrors('name')}" class="invalid-feedback">
							    	<div th:each="error : ${#fields.errors('name')}" th:text="${error}"></div>
							    </div>
							</div>
							
							<!-- Description Field -->
							<div class="mb-3">
                                <label class="form-label">Description</label>
                                <textarea th:field="*{description}"
                                          class="form-control"
                                          th:classappend="${#fields?.hasErrors('description')} ? 'is-invalid' : ''"
                                          rows="3"></textarea>
                                <!-- Specific Error for Description -->
                                <div th:if="${#fields?.hasErrors('description')}" class="invalid-feedback">
                                    <div th:each="error : ${#fields.errors('description')}" th:text="${error}"></div>
                                </div>
							</div>
						</div>
						
						<div class="modal-footer border-secondary">
						    <button type="button" class="btn" data-bs-dismiss="modal">Cancel</button>
                            <button type="submit" class="btn btn-outline-dark">Save Category</button>
						</div>
							  
					</form>
				</div>
			</div>
		</div>
	</div>
</body>
</html>