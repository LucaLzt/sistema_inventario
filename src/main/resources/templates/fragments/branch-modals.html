<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8" />
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
	<!-- Modal Add Branch -->
	<div th:fragment="modal-add-branch">
		<div class="modal fade" id="modalAddBranch" tabindex="-1">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header border-secondary">
						<h5 class="modal-title">Add New Branch</h5>
						<button type="button" class="btn-close btn-close-dark" data-bs-dismiss="modal"></button>
					</div>
					<form th:action="@{/branches/add}"
						  method="post"
						  th:object="${branch}">
						<div class="modal-body">
							
							<input type="hidden" name="filter" th:value="${filter}"/>
							
							<!-- General Alert for Errors -->
							<div th:if="${#fields?.hasErrors('*')}" class="alert alert-danger alert-dismissible fade show" role="alert">
								<strong>Please correct the following errors:</strong>
								<button type="button" class="btn-close" data-bs-dismiss="alert"></button>
							</div>
							
							<!-- Name Field -->
							<div class="mb-3">
								<label class="form-label">Name</label>
								<input type="text" 
									   th:field="*{name}" 
									   class="form-control" 
									   th:classappend="${#fields?.hasErrors('name')} ? 'is-invalid' : ''"
									   autocomplete="off"/>
								<!-- Specific Error for Name -->
								<div th:if="${#fields?.hasErrors('name')}" class="invalid-feedback">
									<div th:each="error : ${#fields.errors('name')}" th:text="${error}"></div>
								</div>
							</div>
							
							<!-- Address Field -->
							<div class="mb-3">
								<label class="form-label">Address</label>
								<input type="text" 
									   th:field="*{address}" 
									   class="form-control" 
									   th:classappend="${#fields?.hasErrors('address')} ? 'is-invalid' : ''"
									   autocomplete="off"/>
							    <!-- Specific Error for Address -->
								<div th:if="${#fields?.hasErrors('address')}" class="invalid-feedback">
									<div th:each="error : ${#fields.errors('address')}" th:text="${error}"></div>
								</div>
							</div>
						</div>
						<div class="modal-footer border-secondary">
							<button type="button" class="btn" data-bs-dismiss="modal">Cancel</button>
							<button type="submit" class="btn btn-outline-dark">Save Branch</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</body>
</html>