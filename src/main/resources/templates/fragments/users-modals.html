<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      			xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
	<meta charset="UTF-8" />
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body sec:authorize="hasRole('ROLE_ADMIN')">
	<!-- Modal View User -->
	<div th:fragment="modalViewUser">
		<div class="modal fade" id="modalViewUser" tabindex="-1" aria-labelledby="viewUserModalLabel" aria-hidden="true">
		    <div class="modal-dialog modal-lg">
		        <div class="modal-content">
		            <div class="modal-header border-secondary">
		                <h5 class="modal-title" id="viewUserModalLabel">View User</h5>
		                <button type="button" class="btn-close btn-close-dark" data-bs-dismiss="modal"></button>
		            </div>
		            <form id="viewUserForm" 
		            	  th:action="@{/admins/users/view/update-or-delete}"
		            	  method="post">
		            	  
		            	<!-- Hidden input to store the user ID for deletion -->
		                <input type="hidden" id="view-id" name="id"/>
		                <input type="hidden" id="view-active-hidden" name="isActive"/>
		                
		                <div class="modal-body">
		                	
		                	<!-- Email and Full Name -->
		                    <div class="row">
		                        <div class="col-md-6">
		                            <div class="mb-3">
		                                <label class="form-label">Email</label>
		                                <input type="text" id="view-email" class="form-control" disabled>
		                            </div>
		                        </div>
		                        <div class="col-md-6">
		                            <div class="mb-3">
		                                <label class="form-label">Full Name</label>
		                                <input type="text" id="view-fullname" class="form-control" disabled>
		                            </div>
		                        </div>
		                    </div>
		                    <!-- Mobile and Role -->
		                    <div class="row">
		                        <div class="col-md-6">
		                            <div class="mb-3">
		                                <label class="form-label">Mobile</label>
		                                <input type="text" id="view-mobile" class="form-control" disabled>
		                            </div>
		                        </div>
		                        <div class="col-md-6">
		                            <div class="mb-3">
		                                <label class="form-label">Role</label>
		                                <input type="text" id="view-role" class="form-control" disabled>
		                            </div>
		                        </div>
		                    </div>
		                    <!-- Created At and Updated At -->
		                    <div class="row">
		                        <div class="col-md-6">
		                            <div class="mb-3">
		                                <label class="form-label">Registered At</label>
		                                <input type="text" id="view-registeredat" class="form-control" disabled>
		                            </div>
		                        </div>
		                        <div class="col-md-6">
		                            <div class="mb-3">
		                                <label class="form-label">Updated At</label>
		                                <input type="text" id="view-updatedat" class="form-control" disabled>
		                            </div>
		                        </div>
		                    </div>
		                    <!-- Active Status -->
		                    <div class="mb-3">
		                        <label class="form-label">Active</label>
		                        <input type="text" id="view-active" class="form-control" disabled>
		                    </div>
		                    <!-- Branch Status -->
		                    <div class="mb-3" id="branchid-group">
							    <label class="form-label">Branch</label>
							    <select id="view-branchid" name="branchId" class="form-select"  
							    	    th:disabled="${principal != null ? !principal.isSuperAdmin() : true}">
							    	<option value="" selected disabled>Select Branch...</option>
							        <option th:each="branch : ${branches}"
							                th:value="${branch.id}"
							                th:text="${branch.name + ' - ' + branch.address}">
							        </option>
							    </select>
							</div>
		                    <!-- Super Admin Status -->
		                    <div class="mb-3 align-items-center" id="superadmin-group">
		                        <label class="form-label me-1">Super Admin</label>
    							<input type="checkbox" id="view-superadmin" name="superAdmin" class="form-check-control" 
    								   value="true" th:disabled="${principal != null ? !principal.isSuperAdmin() : true}">
		                    </div>
		                    
		                </div>
		                <div class="modal-footer border-secondary">
		                    <!-- Delete Button -->
		                    <button type="submit" name="action" value="update" class="btn btn-outline-dark">Update</button>
		                    <button type="submit" name="action" value="delete" class="btn btn-outline-danger">Delete</button>
		                </div>
		            </form>
		        </div>
		    </div>
		</div>
	</div>
</body>
</html>