<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" 
                xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
	<meta charset="UTF-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	<title>Home - Profile</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
</head>
<body sec:authorize="hasRole('ADMIN')">

	<!-- Navbar fragment -->
    <div th:replace="~{fragments/navbar :: navbar('profile')}"></div>
    
    <div class="container py-4">
	    <div class="row justify-content-center">
	        <div class="col-lg-8">
	
	            <div class="card shadow-sm">
	                <div class="card-body p-4">
	
	                    <!-- Header -->
	                    <div class="d-flex align-items-center gap-3 mb-4">
	                        <div class="rounded-circle bg-dark text-white d-flex align-items-center justify-content-center"
	                             style="width:64px;height:64px;">
	                            <i class="fa-solid fa-user fa-lg"></i>
	                        </div>
	                        <div>
	                            <h4 class="mb-1" th:text="${admin.fullName}">Full Name</h4>
	                            <span class="badge text-bg-secondary"
	                                  th:text="${admin.role.name}">Role</span>
	                        </div>
	                    </div>
	
	                    <!-- Profile details -->
	                    <div class="row g-3">
	                        <!-- Name -->
	                        <div class="col-md-6">
	                            <div class="border rounded p-3 h-100">
	                                <div class="text-muted small">Name</div>
	                                <div class="fw-semibold"
	                                     th:text="${#strings.arraySplit(admin.fullName, ' ')[0]}">
	                                </div>
	                            </div>
	                        </div>
	
	                        <!-- Last Name -->
	                        <div class="col-md-6">
	                            <div class="border rounded p-3 h-100">
	                                <div class="text-muted small">Last Name</div>
	                                <div class="fw-semibold"
	                                     th:text="${admin.fullName != null && #strings.arraySplit(admin.fullName, ' ').length > 1 ? #strings.arraySplit(admin.fullName, ' ')[1] : 'â€”'}">
	                                </div>
	                            </div>
	                        </div>
	
	                        <!-- Email -->
	                        <div class="col-md-6">
	                            <div class="border rounded p-3 h-100">
	                                <div class="text-muted small">Email</div>
	                                <div class="fw-semibold" th:text="${admin.email}"></div>
	                            </div>
	                        </div>
	
	                        <!-- Mobile -->
	                        <div class="col-md-6">
	                            <div class="border rounded p-3 h-100">
	                                <div class="text-muted small">Mobile</div>
	                                <div class="fw-semibold" th:text="${admin.mobile}"></div>
	                            </div>
	                        </div>
	
	                        <!-- Super Admin -->
	                        <div class="col-md-6">
	                            <div class="border rounded p-3 h-100">
	                                <div class="text-muted small">Has Privileges</div>
	                                <div class="fw-semibold"
	                                     th:text="${admin.isSuperAdmin() ? 'Yes' : 'No'}">
	                                </div>
	                            </div>
	                        </div>
	
	                        <!-- Rol -->
	                        <div class="col-md-6">
	                            <div class="border rounded p-3 h-100">
	                                <div class="text-muted small">Rol</div>
	                                <div class="fw-semibold"
	                                     th:text="${#strings.capitalize(admin.role.name()?.toLowerCase())}">
	                                </div>
	                            </div>
	                        </div>
	
	                        <!-- Registered At -->
	                        <div class="col-md-6">
	                            <div class="border rounded p-3 h-100">
	                                <div class="text-muted small">Registered At</div>
	                                <div class="fw-semibold"
	                                     th:text="${#temporals.format(admin.registeredAt, 'dd/MM/yyyy HH:mm:ss')}">
	                                </div>
	                            </div>
	                        </div>
	                        
	                        <!-- Updated At -->
	                        <div class="col-md-6">
	                            <div class="border rounded p-3 h-100">
	                                <div class="text-muted small">Updated At</div>
	                                <div class="fw-semibold"
	                                     th:text="${#temporals.format(admin.updatedAt, 'dd/MM/yyyy HH:mm:ss')}">
	                                </div>
	                            </div>
	                        </div>
	                    </div>
	
	                    <!-- Actions -->
	                    <div class="d-flex flex-wrap gap-2 mt-4">
	                        <a class="btn btn-outline-primary" th:href="@{/admins/profile/edit}">
	                            <i class="fa-solid fa-user-pen me-1"></i> Edit Profile
	                        </a>
	                        <a class="btn btn-outline-secondary" th:href="@{/admins/profile/change-password}">
	                            <i class="fa-solid fa-key me-1"></i> Change Password
	                        </a>
	
	                        <!-- Logout -->
	                        <form th:action="@{/logout}" method="post" class="d-inline">
	                            <button type="submit" class="btn btn-outline-danger">
	                                <i class="fa-solid fa-sign-out me-1"></i> Sign Out
	                            </button>
	                        </form>
	                    </div>
	
	                </div>
	            </div>
	
	        </div>
	    </div>
	</div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>